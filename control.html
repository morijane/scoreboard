<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Панель управления</title>
<style>
body { font-family:Arial; background:#111; color:#eee; display:flex; flex-direction:column; align-items:center; padding:20px; }
input { font-size:1.2em; padding:5px; margin:5px; }
button { font-size:1.2em; padding:10px 20px; margin:10px; cursor:pointer; }
.player-control { margin-bottom:20px; border:1px solid #444; padding:10px; width:300px; }
.winner-buttons { display:flex; gap:20px; margin-top:10px; }
</style>
</head>
<body>
<h1>Панель управления</h1>
<div class="player-control">
<h2>Игрок 1</h2>
<input type="text" id="name1Input" placeholder="Имя игрока 1">
<input type="number" id="points1Input" placeholder="Баллы игрока 1">
<input type="text" id="team1Input" placeholder="Команда (БЕЛЫЙ)">
</div>
<div class="player-control">
<h2>Игрок 2</h2>
<input type="text" id="name2Input" placeholder="Имя игрока 2">
<input type="number" id="points2Input" placeholder="Баллы игрока 2">
<input type="text" id="team2Input" placeholder="Команда (КРАСНЫЙ)">
</div>
<button onclick="updateDisplay()">Обновить дисплей</button>
<button onclick="showWinner()">Показать победителя по баллам</button>
<div class="winner-buttons">
<button onclick="setWinner('player1')">Игрок 1 WIN</button>
<button onclick="setWinner('player2')">Игрок 2 WIN</button>
</div>
<button onclick="goToWheel()">Перейти на wheel.html</button>
<script>
async function updateDisplay(){
    const data={
        name1:document.getElementById('name1Input').value,
        points1:parseInt(document.getElementById('points1Input').value)||0,
        team1:document.getElementById('team1Input').value||'БЕЛЫЙ',
        name2:document.getElementById('name2Input').value,
        points2:parseInt(document.getElementById('points2Input').value)||0,
        team2:document.getElementById('team2Input').value||'КРАСНЫЙ',
        showWinner:false, winnerName:'', page:''
    };
    await fetch('/data',{method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify(data)});
}
async function showWinner(){
    const points1=parseInt(document.getElementById('points1Input').value)||0;
    const points2=parseInt(document.getElementById('points2Input').value)||0;
    let winner='';
    if(points1>points2) winner=document.getElementById('name1Input').value||'Игрок 1';
    else if(points2>points1) winner=document.getElementById('name2Input').value||'Игрок 2';
    else winner='НИЧЬЯ';
    const data={
        name1:document.getElementById('name1Input').value,
        points1:points1,
        team1:document.getElementById('team1Input').value||'БЕЛЫЙ',
        name2:document.getElementById('name2Input').value,
        points2:points2,
        team2:document.getElementById('team2Input').value||'КРАСНЫЙ',
        showWinner:true,
        winnerName:winner+' WIN',
        page:''
    };
    await fetch('/data',{method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify(data)});
}
async function setWinner(player){
    let winnerName='';
    if(player==='player1') winnerName=(document.getElementById('name1Input').value||'Игрок 1')+' WIN';
    if(player==='player2') winnerName=(document.getElementById('name2Input').value||'Игрок 2')+' WIN';
    const data={
        name1:document.getElementById('name1Input').value,
        points1:parseInt(document.getElementById('points1Input').value)||0,
        team1:document.getElementById('team1Input').value||'БЕЛЫЙ',
        name2:document.getElementById('name2Input').value,
        points2:parseInt(document.getElementById('points2Input').value)||0,
        team2:document.getElementById('team2Input').value||'КРАСНЫЙ',
        showWinner:true,
        winnerName:winnerName,
        page:''
    };
    await fetch('/data',{method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify(data)});
}
async function goToWheel(){
    const data={page:'wheel.html'};
    await fetch('/data',{method:'POST', headers:{'Content-Type':'application/json'}, body:JSON.stringify(data)});
}
</script>
</body>
</html>