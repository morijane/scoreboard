<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Дисплей</title>
<style>
  body { margin: 0; font-family: 'Orbitron', sans-serif; }
  #container { display: flex; height: 100vh; }
  .player { flex: 1; background: black; color: cyan; display: flex; flex-direction: column; justify-content: center; align-items: center; font-size: 60px; }
  .team { font-size: 36px; margin-top: 20px; }
</style>
</head>
<body>
<div id="container">
  <div class="player">
    <div id="name1">Игрок 1</div>
    <div id="points1">0</div>
    <div class="team" id="team1">БЕЛЫЙ</div>
  </div>
  <div class="player">
    <div id="name2">Игрок 2</div>
    <div id="points2">0</div>
    <div class="team" id="team2">КРАСНЫЙ</div>
  </div>
</div>
<div id="winnerOverlay" style="position:fixed;top:0;left:0;width:100%;height:100%;background:red;color:white;display:none;justify-content:center;align-items:center;font-size:150px;font-weight:bold;z-index:100;text-align:center;">WIN</div>
<script>
async function updateDisplay() {
  try {
    const res = await fetch('/data');
    const state = await res.json();
    document.getElementById('name1').textContent = state.name1;
    document.getElementById('points1').textContent = state.points1;
    document.getElementById('team1').textContent = state.team1;
    document.getElementById('name2').textContent = state.name2;
    document.getElementById('points2').textContent = state.points2;
    document.getElementById('team2').textContent = state.team2;

    if(state.showWinner){
      document.getElementById('winnerOverlay').textContent = state.winnerName + " WIN";
      document.getElementById('winnerOverlay').style.display = 'flex';
    } else {
      document.getElementById('winnerOverlay').style.display = 'none';
    }
  } catch(e){ console.error(e); }
}
setInterval(updateDisplay, 500);
</script>
</body>
</html>
